extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug

block main 
  h1 Danh sách sản phẩm

  .card.mb-3 
    .card-header Bộ lọc và Tìm kiếm
    .card-body 
     .row
      .col-6
        +filter-status(filterStatus)  
      .col-6
        +search(keyword)


  table.table.table-bordered
    thead
      tr
        th STT 
        th Hình ảnh 
        th Tiêu đề
        th Giá
        th Trạng thái 
        th Hành động
    tbody 
      each item,index in products
        tr
          td #{index+1}
          td
            img(
                src=item.thumbnail
                width= "auto"
                height="80"
            )
          td #{item.title}
          td #{item.price}$
          td
            if(item.status == "active") 
              a(href="#" class="badge bg-success text-white") đang kinh doanh
            else 
              a(href="#" class="badge bg-danger text-white") ngừng kinh doanh
          td 
            button(class="btn btn-warning btn-sm") Sửa
            button(class="btn btn-danger btn-sm ml-1") Xóa
  
  nav
  ul.pagination
    if(pagination.currentPage > 1)
      li.page-item
        button(class="page-link"
          button-pagination = pagination.curentPage-1) Trang trước
    - for (var i = 1; i <= pagination.toltalPage; i++)
      li.page-item(class=(i === pagination.currentPage ? 'active' : ''))
        button(class="page-link"
               button-pagination = i) #{i}
    if(pagination.currentPage < pagination.toltalPage)
      li.page-item
        button(class="page-link"
         button-pagination = pagination.curentPage+1) Trang trước
